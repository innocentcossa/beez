{% extends "base.html" %}

{% block pageContent %}


<div class="mdc-layout-grid__cell stretch-card mdc-layout-grid__cell--span-12">
  <div class="mdc-card py-2">
      <div class="d-flex justify-content-between align-items-center">
          <h4 class="card-title mb-0">School Details</h4>
          <div class="text-start"> <a class="btn btn-primary bg-gradient btn-sm rounded-0" href="{% url 'Beezfees:session' %}"><span>Session</span></a>

          </div>
  
  
          </div>
      </div>
      </div>
  </div>

         
  <div class="container-fluid">
    <form action="{% url 'Beezfees:add_school' %}" id="form" method="post">
        {% csrf_token %}
      <input type="hidden" name="id">
      <div class="row">
        <div class="col-4">
          <div class="form-group mb-3">
            <label for="col_co_name" class="control-label">School Name</label>
            <input type="text" name="col_co_name" id="col_co_name" placeholder="" class="form-control form-control-sm rounded-0" value="" required>
          </div>
        </div>
            
    
                <div class="col-4">
                            <div class="form-group mb-3">
                <label for="col_co_shortname" class="control-label">School Shortname</label>
                <input type="text" name="col_co_shortname" id="col_co_shortname"placeholder="School Short Name" class="form-control form-control-sm rounded-0" value="{% if School.col_co_shortname %}{{School.col_co_shortname}}{% endif %}" required>
            </div>
        
    
    
                </div>
                <div class="col-4">
                    <div class="form-group mb-3">
                        <label for="col_co_code" class="control-label">School Code</label>
                        <input type="text" name="col_co_code" id="col_co_code" placeholder="School Code" class="form-control form-control-sm rounded-0" value="{% if School.col_co_code %}{{School.col_co_code}}{% endif %}" required>
                    </div>
                </div>
                <div class="col-4">
                         <div class="form-group mb-3">
                <label for="col_co_reg_no" class="control-label">School Reg no</label>
                <input type="text" name="col_co_reg_no" id="col_co_reg_no" placeholder="Reg no" class="form-control form-control-sm rounded-0" value="{% if School.col_co_reg_no %}{{School.col_co_reg_no}}{% endif %}" required>
            </div>
                </div>
                 
                <div class="col-4">
                            <div class="form-group mb-3">
                <label for="col_co_reg_date" class="control-label"> Reg date</label>
                <input type="date" name="col_co_reg_date" id="col_co_reg_date" class="form-control form-control-sm rounded-0" value="{% if School.pk %}{{School.col_co_reg_date}}{%else%}{%now 'Y-m-d'%}{% endif %}" required>
            </div>
    
                </div>
    
    
            
                <div class="col-4">
                            <div class="form-group mb-3">
                <label for="col_co_phy_address" class="control-label">Pyhsical Address</label>
                <input type="textarea" name="col_co_phy_address" id="col_co_phy_address" placeholder="Pyhsical Address" class="form-control form-control-sm rounded-0" value="{% if School.col_co_phy_address %}{{School.col_co_phy_address}}{% endif %}" required>
            </div>
    
                </div>
                <div class="col-4">
                            <div class="form-group mb-3">
                <label for="col_co_mailadd" class="control-label">Mailing Address</label>
                <input type="text" name="col_co_mailadd" id="col_co_mailadd" placeholder="Mailing Address" class="form-control form-control-sm rounded-0" value="{% if School.col_co_mailadd %}{{School.col_co_mailadd}}{% endif %}">
            </div>
    
                </div>
                <div class="col-4">
                            <div class="form-group mb-3">
                <label for="col_co_telephone" class="control-label">Telephone</label>
                <input type="text" name="col_co_telephone" id="col_co_telephone" placeholder="eg: 26377777777" class="form-control form-control-sm rounded-0" value="{% if School.col_co_telephone %}{{School.col_co_telephone}}{% endif %}" required>
            </div>
    
                </div>
                <div class="col-4">
                            <div class="form-group mb-3">
                <label for="col_co_mobile_no" class="control-label">Mobile No</label>
                <input type="text" name="col_co_mobile_no" id="col_co_mobile_no" placeholder="Mobile No" class="form-control form-control-sm rounded-0" value="{% if School.col_co_mobile_no %}{{School.col_co_mobile_no}}{% endif %}">
            </div>
    
                </div>
                <div class="col-4">
                            <div class="form-group mb-3">
                <label for="col_co_email_add" class="control-label">Email</label>
                <input type="email" name="col_co_email_add" id="col_co_email_add" placeholder="Email" class="form-control form-control-sm rounded-0" value="{% if School.col_co_email_add %}{{School.col_co_email_add}}{% endif %}" >
            </div>
        </div>
    </div>
            


            <div class="col-4">
                <div class="form-group mb-3">

                    {% if messages %}

        {% for message in messages %}
           
        {% endfor %}
    </ul>
{% endif %}
                    
                    <button type="submit" class="btn btn-primary">Save</button>
                    <button type="button" class="btn btn-secondary">Cancel</button>
                </div>
            </div>
    
    
        </form>
        
<div class="mdc-layout-grid__cell stretch-card mdc-layout-grid__cell--span-12">
    <div class="mdc-card py-2">
        <div class="d-flex justify-content-between align-items-center">
            <h4 class="card-title mb-0">School Details List</h4>

        
    
        </div>
    </div>
</div>
<div class="mdc-layout-grid__cell stretch-card mdc-layout-grid__cell--span-12">
    <div class="mdc-card">
        <div class="table-responsive">
            <table class="table table-striped table-bordered" id="example">
                <colgroup>
                    <col width="20%">
                    <col width="25%">
                    <col width="20%">
                    <col width="30%">
                    
                    

                </colgroup>
                <thead>
                    <tr>
                        <th class="text-left py-1">School Code</th>
                        <th class="text-left py-1">School Name</th>
                        <th class="text-left py-1">School Shortname</th>
                        <th class="text-left py-1">School Physical adress</th>
                        
                
                    </tr>
                </thead>
                
<tbody>
  {% for school_detail in Details %}
  <tr>
    <td class="px-2 py-1 text-center">
      <a href="#" onclick="populateSchoolInfo('{{ school_detail.col_co_code }}', '{{ school_detail.col_co_name }}', '{{ school_detail.col_co_shortname }}', '{{ school_detail.col_co_phy_address }}', '{{ school_detail.col_co_reg_date }}', '{{ school_detail.col_co_mailadd }}', '{{ school_detail.col_co_telephone }}', '{{ school_detail.col_co_mobile_no }}', '{{ school_detail.col_co_email_add }}', '{{ school_detail.col_co_reg_no }}')">
        {{ school_detail.col_co_code }}
      </a>
    </td>
    <td class="px-2 py-1 text-left">{{ school_detail.col_co_name }}</td>
    <td class="px-2 py-1 text-left">{{ school_detail.col_co_shortname }}</td>
    <td class="px-2 py-1 text-left">{{ school_detail.col_co_phy_address }}</td>
  </tr>
  {% endfor %}
</tbody>

            </table>
        </div>
    </div>
</div>



{% endblock pageContent %}

{% block ScriptBlock %}
<script>
    function populateSchoolInfo(coCode, coName, coShortname, phyAddress, regDate, mailAdd, telNo, mobNo, emailAdd,regNo) {
      document.getElementById("col_co_code").value = coCode;
      document.getElementById("col_co_name").value = coName;
      document.getElementById("col_co_shortname").value = coShortname;
      document.getElementById("col_co_reg_date").value = regDate;
      document.getElementById("col_co_reg_no").value = regNo;
      document.getElementById("col_co_phy_address").value = phyAddress;
      document.getElementById("col_co_mailadd").value = mailAdd;
      document.getElementById("col_co_telephone").value = telNo;
      document.getElementById("col_co_mobile_no").value = mobNo;
      document.getElementById("col_co_email_add").value = emailAdd;
    }
  </script>

 
{% endblock ScriptBlock %}